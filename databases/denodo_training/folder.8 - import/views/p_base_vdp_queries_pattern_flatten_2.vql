CREATE OR REPLACE VIEW p_base_vdp_queries_pattern_flatten_2 FOLDER = '/8 - import' AS SELECT ((substring(p_base_vdp_queries_pattern_flatten.vdpview, position('.' IN p_base_vdp_queries_pattern_flatten.vdpview))||id)||substring(p_base_vdp_queries_pattern_flatten.vdpview, 1, (position('.' IN vdpview)-2))) AS db_by_element, p_base_vdp_queries_pattern_flatten.database_0 AS database_0, p_base_vdp_queries_pattern_flatten.requesttype AS requesttype, p_base_vdp_queries_pattern_flatten.vdpview AS vdpview, p_base_vdp_queries_pattern_flatten.incomingdate AS incomingdate, p_base_vdp_queries_pattern_flatten.incominghour AS incominghour, p_base_vdp_queries_pattern_flatten.duration AS duration, p_base_vdp_queries_pattern_flatten.waitingtime AS waitingtime, case WHEN (p_base_vdp_queries_pattern_flatten.numrows = '-1') THEN 0 ELSE p_base_vdp_queries_pattern_flatten.numrows END AS numrows, case WHEN (p_base_vdp_queries_pattern_flatten.state = '-') THEN 'SYNTAX_ERROR' ELSE p_base_vdp_queries_pattern_flatten.state END AS state, p_base_vdp_queries_pattern_flatten.incomingminute AS incomingminute, p_base_vdp_queries_pattern_flatten.completed AS completed, p_base_vdp_queries_pattern_flatten.query AS query, p_base_vdp_queries_pattern_flatten.cached AS cached, p_base_vdp_queries_pattern_flatten.username AS output_username, p_base_vdp_queries_pattern_flatten.useragent AS useragent, p_base_vdp_queries_pattern_flatten.accessinterface AS output_accessinterface, accessinterface, p_base_vdp_queries_pattern_flatten.clientip AS clientip, startdate, enddate, username, p_base_vdp_queries_pattern_flatten.id AS id FROM p_base_vdp_queries_pattern_flatten WHERE (searchstartdate_0 = startdate AND searchenddate_0 = enddate) USING PARAMETERS ( startdate : date to_date('yyyy-MM-dd''T''HH:mm:ssXXX', '1970-01-01T01:00:00+01:00'), enddate : date to_date('yyyy-MM-dd''T''HH:mm:ssXXX', '3013-11-07T06:00:00+01:00'));

